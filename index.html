<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø³Ø¬Ù„ Ø§Ù‡ØªÙ…Ø§Ù…Ùƒ ÙÙŠ Ù…Ù†ØªØ¬ ØªØ£ØµÙŠÙ„ - Ø¨ÙŠÙ„Ø¯ ÙˆØ§ÙŠØ²</title>
    
    <style>
        :root { 
            --gold: #c2996f; 
            --dark: #000000; 
            --bg: #fdfaf5; 
            --red: #e74c3c; 
            --white: #ffffff;
            --shadow: 0 8px 30px rgba(0,0,0,0.08);
            --success: #27ae60;
        }

        body { 
            margin: 0; 
            font-family: 'Segoe UI', Roboto, sans-serif; 
            background-color: var(--bg); 
            color: #333; 
            text-align: right;
            direction: rtl;
        }

        .hero { 
            background: var(--white);
            padding: 60px 20px; 
            text-align: center;
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        .logo-svg { width: 150px; margin-bottom: 10px; }

        .survey-container { 
            max-width: 550px; 
            margin: -35px auto 50px; 
            padding: 0 20px; 
        }

        .card { 
            background: var(--white); 
            border-radius: 24px; 
            padding: 28px; 
            margin-bottom: 25px; 
            box-shadow: var(--shadow);
        }

        h3 { margin-top: 0; color: var(--dark); font-size: 1.15rem; border-bottom: 2px solid var(--bg); padding-bottom: 12px; margin-bottom: 22px; }

        .field { margin-bottom: 22px; }
        
        .flex-fields { display: flex; gap: 15px; margin-bottom: 22px; }
        .flex-fields .field { flex: 1; margin-bottom: 0; }

        label { display: block; font-weight: 700; margin-bottom: 10px; font-size: 0.85rem; color: #2c3e50; }
        
        .required-star { color: var(--red); margin-right: 3px; }

        input, select, textarea { 
            width: 100%; padding: 15px 18px; border: 1.5px solid #eee; 
            border-radius: 15px; box-sizing: border-box; background: #fcfcfc; 
            font-size: 1rem; text-align: right; transition: 0.3s;
            color: #bbb; 
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù€ Placeholder Ù„ÙŠÙƒÙˆÙ† Ø®ÙÙŠÙØ§Ù‹ Ø¬Ø¯Ø§Ù‹ */
        ::placeholder { color: #ddd; opacity: 1; }

        select option { color: #000; }

        .output-field {
            background-color: #f8f1e9 !important;
            color: var(--gold) !important;
            font-weight: bold;
        }

        .active-input { color: #000 !important; }

        input:focus, select:focus, textarea:focus { 
            border-color: var(--gold); 
            outline: none; 
            background: #fff; 
            box-shadow: 0 0 0 4px rgba(194, 153, 111, 0.1); 
        }

        .submit-btn { 
            width: 100%; background: var(--gold); color: var(--white); 
            padding: 20px; border: none; border-radius: 20px; 
            font-size: 1.2rem; font-weight: bold; cursor: pointer;
            box-shadow: 0 10px 25px rgba(194, 153, 111, 0.3);
        }

        #loading-overlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(255,255,255,0.96); z-index: 9999; flex-direction: column; 
            justify-content: center; align-items: center;
        }

        .loader { border: 5px solid #f3f3f3; border-top: 5px solid var(--gold); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="loading-overlay">
        <div class="loader"></div>
        <div style="font-weight: bold; color: var(--dark); margin-top: 15px;">Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù‡ØªÙ…Ø§Ù…ÙƒÙ…...</div>
    </div>

    <section class="hero">
        <svg class="logo-svg" viewBox="0 0 400 160" xmlns="http://www.w3.org/2000/svg">
            <path d="M105 20 H138 A 16 16 0 0 1 138 52 H105 V20 Z" fill="#c2996f"/>
            <path d="M105 58 H138 A 16 16 0 0 1 138 90 H105 V58 Z" fill="#c2996f"/>
            <rect x="175" y="20" width="32" height="70" rx="16" fill="#c2996f"/>
            <rect x="222" y="45" width="32" height="45" rx="16" fill="#c2996f"/>
            <rect x="268" y="20" width="32" height="70" rx="16" fill="#c2996f"/>
            <text x="200" y="145" text-anchor="middle" font-family="Arial Black, sans-serif" font-weight="900" font-size="52" fill="#000" style="letter-spacing: -2px;">BUILD WISE</text>
        </svg>
        <p style="font-weight: 600; color: #666; margin-top: 10px;">ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ¯ÙÙ‚Ø§Øª Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ø¥Ù„Ù‰ Ø£ØµÙˆÙ„ Ø¹Ù‚Ø§Ø±ÙŠØ©</p>
    </section>

    <div class="survey-container">
        <form id="buildWiseForm">
            <div class="card">
                <h3>ğŸ‘¤ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>
                <div class="field">
                    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø´Ø£Ø© / Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© <span class="required-star">*</span></label>
                    <input type="text" name="company_name" required placeholder="Ø´Ø±ÙƒØ©... / Ø¹Ù„Ø§Ù…Ø©..." oninput="handleInput(this)">
                </div>
                <div class="field">
                    <label>Ø§Ø³Ù… Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„ØªÙˆØ§ØµÙ„ <span class="required-star">*</span></label>
                    <input type="text" name="contact_person" required placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ" oninput="handleInput(this)">
                </div>
                <div class="field">
                    <label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ <span class="required-star">*</span></label>
                    <input type="tel" name="mobile" placeholder="05xxxxxxxx" required oninput="handleInput(this)">
                </div>
                <div class="field">
                    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" name="email" placeholder="mmm@example.com" oninput="handleInput(this)">
                </div>
            </div>

            <div class="card">
                <h3>ğŸ’° Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h3>
                <label>Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø¹Ø¨Ø± Ø£Ø¬Ù‡Ø²Ø© Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ (POS) <span class="required-star">*</span></label>
                <div class="flex-fields">
                    <div class="field">
                        <label style="font-size: 0.75rem; color: #888;">ÙŠÙˆÙ…ÙŠ</label>
                        <input type="text" id="pos_daily_display" required placeholder="Ù…Ø«Ø§Ù„: 5,000" oninput="calculateMonthly(this)">
                    </div>
                    <div class="field">
                        <label style="font-size: 0.75rem; color: #888;">Ø´Ù‡Ø±ÙŠ</label>
                        <input type="text" id="pos_monthly_display" class="output-field" readonly placeholder="0">
                    </div>
                </div>
                <input type="hidden" name="pos_monthly_sales" id="pos_monthly_sales">

                <div class="field" style="margin-top: 22px;">
                    <label>Ù†Ø³Ø¨Ø© ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­ Ù„Ø³Ù†Ø© 2025 (%) <span class="required-star">*</span></label>
                    <input type="number" step="0.01" max="100" name="net_profit_percent_2025" required placeholder="Ù…Ø«Ø§Ù„: 15%" oninput="handleInput(this); if(this.value>100)this.value=100;">
                </div>
            </div>

            <div class="card">
                <h3>ğŸ¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù</h3>
                <div class="field">
                    <label>Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø± <span class="required-star">*</span></label>
                    <select name="property_type" required onchange="handleInput(this)">
                        <option value="" disabled selected>Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©...</option>
                        <option value="Ø´Ù‚Ø©">Ø´Ù‚Ø©</option>
                        <option value="Ù…ÙƒØªØ¨">Ù…ÙƒØªØ¨</option>
                        <option value="ÙˆØ­Ø¯Ø© ÙÙ†Ø¯Ù‚ÙŠØ©">ÙˆØ­Ø¯Ø© ÙÙ†Ø¯Ù‚ÙŠØ©</option>
                        <option value="Ø£Ø±Ø¶">Ø£Ø±Ø¶</option>
                        <option value="ÙÙŠÙ„Ø§">ÙÙŠÙ„Ø§</option>
                        <option value="Ù…Ø¨Ù†Ù‰ Ø³ÙƒÙ†ÙŠ">Ù…Ø¨Ù†Ù‰ Ø³ÙƒÙ†ÙŠ</option>
                        <option value="Ù…Ø¨Ù†Ù‰ Ù…ÙƒØªØ¨ÙŠ">Ù…Ø¨Ù†Ù‰ Ù…ÙƒØªØ¨ÙŠ</option>
                        <option value="Ù…Ø¨Ù†Ù‰ ÙÙ†Ø¯Ù‚ÙŠ">Ù…Ø¨Ù†Ù‰ ÙÙ†Ø¯Ù‚ÙŠ</option>
                    </select>
                </div>
                <div class="field">
                    <label>Ø§Ù„Ù…Ù†Ø·Ù‚Ø© <span class="required-star">*</span></label>
                    <input type="text" name="region" required placeholder="Ù…Ø«Ø§Ù„: Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙŠØ§Ø¶" oninput="handleInput(this)">
                </div>
                <div class="field">
                    <label>Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù„Ø´Ø±Ø§Ø¡ (SAR) <span class="required-star">*</span></label>
                    <input type="text" id="budget_display" required placeholder="Ù…Ø«Ø§Ù„: 1,000,000" oninput="formatBudget(this)">
                    <input type="hidden" name="budget" id="budget">
                </div>
            </div>

            <div class="card">
                <h3>ğŸ“… Ø®Ø·Ø© Ø§Ù„Ø­Ø¬Ø² ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…</h3>
                <div class="field">
                    <label>Ù…Ø§ Ù…Ø¯Ù‰ Ø§Ù‡ØªÙ…Ø§Ù…Ùƒ Ø¨Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ù…Ù†ØªØ¬ ØªØ£ØµÙŠÙ„ØŸ <span class="required-star">*</span></label>
                    <select name="interest_level" required onchange="handleInput(this)">
                        <option value="" disabled selected>Ø§Ø®ØªÙŠØ§Ø±...</option>
                        <option value="Ù‚ÙˆÙŠ">Ù‚ÙˆÙŠ ğŸ”¥</option>
                        <option value="Ù…ØªÙˆØ³Ø·">Ù…ØªÙˆØ³Ø·</option>
                        <option value="Ø¶Ø¹ÙŠÙ">Ø¶Ø¹ÙŠÙ</option>
                    </select>
                </div>
                <div class="field">
                    <label>Ø®Ø·Ø© Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© <span class="required-star">*</span></label>
                    <select name="booking_plan" required onchange="handleInput(this)">
                        <option value="" disabled selected>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆÙ‚Øª...</option>
                        <option value="Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ">Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ</option>
                        <option value="Ø®Ù„Ø§Ù„ Ø§Ù„Ù€ 3 Ø´Ù‡ÙˆØ± Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©">Ø®Ù„Ø§Ù„ Ø§Ù„Ù€ 3 Ø´Ù‡ÙˆØ± Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</option>
                        <option value="Ø®Ù„Ø§Ù„ Ø§Ù„Ù€ 6 Ø´Ù‡ÙˆØ± Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©">Ø®Ù„Ø§Ù„ Ø§Ù„Ù€ 6 Ø´Ù‡ÙˆØ± Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</option>
                    </select>
                </div>
                <div class="field">
                    <label>Ø±Ø³Ø§Ù„ØªÙƒ Ù„ÙØ±ÙŠÙ‚ Ø´Ø±ÙƒØ© Ø¨ÙŠÙ„Ø¯ ÙˆØ§ÙŠØ²</label>
                    <textarea name="client_message" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ Ù‡Ù†Ø§..." oninput="handleInput(this)"></textarea>
                </div>
            </div>

            <button type="button" onclick="sendData()" id="btnSubmit" class="submit-btn">Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…</button>
        </form>

        <div id="success-screen" class="card" style="display:none; text-align:center;">
            <div style="font-size: 50px; color: var(--success); margin-bottom: 20px;">âœ“</div>
            <h3>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù‡ØªÙ…Ø§Ù…ÙƒÙ… Ø¨Ù†Ø¬Ø§Ø­!</h3>
            <p>Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ… Ø¨Ø´Ø±ÙƒØ© Ø¨ÙŠÙ„Ø¯ ÙˆØ§ÙŠØ². Ø³ÙŠÙ‚ÙˆÙ… ÙØ±ÙŠÙ‚Ù†Ø§ Ø¨Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ù„Ø¨ÙƒÙ… ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙƒÙ… Ù‚Ø±ÙŠØ¨Ø§Ù‹.</p>
        </div>
    </div>

    <script>
        function handleInput(el) {
            if (el.value !== "") {
                el.classList.add('active-input');
            } else {
                el.classList.remove('active-input');
            }
        }

        function calculateMonthly(el) {
            handleInput(el);
            let val = el.value.replace(/,/g, '');
            if (!isNaN(val) && val !== "") {
                let daily = parseFloat(val);
                let monthly = daily * 30;
                el.value = daily.toLocaleString('en-US');
                document.getElementById('pos_monthly_display').value = monthly.toLocaleString('en-US');
                document.getElementById('pos_monthly_sales').value = monthly;
            } else {
                el.value = "";
                document.getElementById('pos_monthly_display').value = "";
                document.getElementById('pos_monthly_sales').value = "";
            }
        }

        function formatBudget(el) {
            handleInput(el);
            let val = el.value.replace(/,/g, '');
            if (!isNaN(val) && val !== "") {
                document.getElementById('budget').value = val;
                el.value = Number(val).toLocaleString('en-US');
            } else {
                el.value = "";
                document.getElementById('budget').value = "";
            }
        }

        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzXQ0YnpsvvpkHRN8vLl0KDXf5sOXT8sq1zwmxtiBFaxgK1JNsp7lPBlK8mhr9W6Ce4/exec";

        async function sendData() {
            const btn = document.getElementById('btnSubmit');
            const overlay = document.getElementById('loading-overlay');
            const form = document.getElementById('buildWiseForm');
            const successScreen = document.getElementById('success-screen');

            if(!form.checkValidity()) {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆØ§Ù„Ù…Ù…ÙŠØ²Ø© Ø¨Ù†Ø¬Ù…Ø© Ø­Ù…Ø±Ø§Ø¡.");
                return;
            }

            btn.disabled = true; overlay.style.display = 'flex';
            const payload = {}; new FormData(form).forEach((v, k) => payload[k] = v);

            try {
                fetch(SCRIPT_URL, { method: "POST", body: JSON.stringify(payload), mode: "no-cors" })
                .then(() => {
                    overlay.style.display = 'none'; form.style.display = 'none';
                    successScreen.style.display = 'block'; window.scrollTo({ top: 0, behavior: 'smooth' });
                }).catch(() => { overlay.style.display = 'none'; btn.disabled = false; });
            } catch (err) { overlay.style.display = 'none'; btn.disabled = false; }
        }
    </script>
</body>
</html>
